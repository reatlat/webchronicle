(()=>{var r=(...t)=>{(location.hostname.match("local")||window.sessionStorage.unicorn)&&console.log("\u{1F984}:",...t)};document.addEventListener("alpine:init",()=>{Alpine.data("fontSizeClampGenerator",()=>({minFontSize:16,maxFontSize:48,minViewport:500,maxViewport:900,unit:"px",outputUnit:"rem",previewViewportWidth:1024,previewText:"The quick brown fox jumps over the lazy dog",successMessage:"",presets:{body:{minFontSize:16,maxFontSize:20,minViewport:500,maxViewport:900,unit:"px"},h1:{minFontSize:32,maxFontSize:64,minViewport:500,maxViewport:900,unit:"px"},h2:{minFontSize:24,maxFontSize:48,minViewport:500,maxViewport:900,unit:"px"},h3:{minFontSize:20,maxFontSize:32,minViewport:500,maxViewport:900,unit:"px"},small:{minFontSize:12,maxFontSize:16,minViewport:500,maxViewport:900,unit:"px"}},get generatedCSS(){let t=this.convertToUnit(this.minFontSize,this.unit),i=this.convertToUnit(this.maxFontSize,this.unit),e=this.calculateSlope(),o=this.calculateIntersection();return`clamp(${t}, ${o} + ${e}, ${i})`},get cssOutput(){return`font-size: ${this.generatedCSS};`},get calculationFormula(){let t=this.convertToPx(this.minFontSize,this.unit),i=this.convertToPx(this.maxFontSize,this.unit),e=this.convertViewportToPx(this.minViewport,this.unit),o=this.convertViewportToPx(this.maxViewport,this.unit),n=o-e,s=i-t;return`Slope = (${i} - ${t}) / (${o} - ${e})
       = ${s} / ${n}
       = ${(s/n).toFixed(4)}

Intersection = ${t} - (Slope \xD7 ${e})
             = ${t} - (${(s/n).toFixed(4)} \xD7 ${e})
             = ${(t-s/n*e).toFixed(4)}px

Final Formula:
font-size: clamp(
  ${this.convertToUnit(this.minFontSize,this.unit)},
  ${this.calculateIntersection()} + ${this.calculateSlope()},
  ${this.convertToUnit(this.maxFontSize,this.unit)}
);`},get currentPreviewSize(){let t=this.convertToPx(this.minFontSize,this.unit),i=this.convertToPx(this.maxFontSize,this.unit),e=this.convertViewportToPx(this.minViewport,this.unit),o=this.convertViewportToPx(this.maxViewport,this.unit);if(this.previewViewportWidth<=e)return this.convertToUnit(this.minFontSize,this.unit);if(this.previewViewportWidth>=o)return this.convertToUnit(this.maxFontSize,this.unit);let n=(this.previewViewportWidth-e)/(o-e),s=t+(i-t)*n;return this.pxToOutputUnit(s)},get previewFontSize(){let t=this.convertToPx(this.minFontSize,this.unit),i=this.convertToPx(this.maxFontSize,this.unit),e=this.convertViewportToPx(this.minViewport,this.unit),o=this.convertViewportToPx(this.maxViewport,this.unit);if(this.previewViewportWidth<=e)return`${t}px`;if(this.previewViewportWidth>=o)return`${i}px`;let n=(this.previewViewportWidth-e)/(o-e);return`${(t+(i-t)*n).toFixed(2)}px`},calculateSlope(){let t=this.convertToPx(this.minFontSize,this.unit),i=this.convertToPx(this.maxFontSize,this.unit),e=this.convertViewportToPx(this.minViewport,this.unit),n=this.convertViewportToPx(this.maxViewport,this.unit)-e,h=(i-t)/n*100;return`${parseFloat(h.toFixed(4))}vw`},calculateIntersection(){let t=this.convertToPx(this.minFontSize,this.unit),i=this.convertToPx(this.maxFontSize,this.unit),e=this.convertViewportToPx(this.minViewport,this.unit),n=this.convertViewportToPx(this.maxViewport,this.unit)-e,h=(i-t)/n,p=t-h*e;return this.pxToOutputUnit(p)},convertToPx(t,i){return i==="rem"||i==="em"?t*16:t},convertViewportToPx(t,i){return i==="rem"?t*16:t},convertToUnit(t,i){let e=this.convertToPx(t,i);return this.pxToOutputUnit(e)},pxToOutputUnit(t){return this.outputUnit==="rem"?`${parseFloat((t/16).toFixed(4))}rem`:this.outputUnit==="em"?`${parseFloat((t/16).toFixed(4))}em`:`${parseFloat(t.toFixed(2))}px`},applyPreset(t){let i=this.presets[t];if(i){this.minFontSize=i.minFontSize,this.maxFontSize=i.maxFontSize,this.minViewport=i.minViewport,this.maxViewport=i.maxViewport,this.unit=i.unit,r(`Applied preset: ${t}`,i);let e=this.convertViewportToPx(this.minViewport,this.unit),o=this.convertViewportToPx(this.maxViewport,this.unit);this.previewViewportWidth=Math.floor((e+o)/2),this.highlightPrism()}},async copyToClipboard(){r("Copying CSS to clipboard");try{await navigator.clipboard.writeText(this.cssOutput),this.successMessage="\u2713 CSS copied to clipboard!",setTimeout(()=>{this.successMessage=""},3e3)}catch(t){r("Clipboard error:",t);let i=document.createElement("textarea");i.value=this.cssOutput,i.style.position="fixed",i.style.opacity="0",document.body.appendChild(i),i.select();try{document.execCommand("copy"),this.successMessage="\u2713 CSS copied to clipboard!",setTimeout(()=>{this.successMessage=""},3e3)}catch(e){r("Fallback copy failed:",e)}document.body.removeChild(i)}},highlightPrism(){try{window.Prism&&typeof window.Prism.highlightAll=="function"&&this.$nextTick(()=>{window.Prism.highlightAll()})}catch(t){r("Prism highlighting error:",t)}},init(){r("Font Size Clamp Generator initialized");let t=this.convertViewportToPx(this.minViewport,this.unit),i=this.convertViewportToPx(this.maxViewport,this.unit);this.previewViewportWidth=Math.floor((t+i)/2),this.highlightPrism(),this.$watch("minFontSize",()=>this.highlightPrism()),this.$watch("maxFontSize",()=>this.highlightPrism()),this.$watch("minViewport",()=>this.highlightPrism()),this.$watch("maxViewport",()=>this.highlightPrism()),this.$watch("outputUnit",()=>this.highlightPrism());let e=this.unit;this.$watch("unit",o=>{r(`Unit changed from ${e} to ${o}`),e==="px"&&o==="rem"?(this.minFontSize=parseFloat((this.minFontSize/16).toFixed(4)),this.maxFontSize=parseFloat((this.maxFontSize/16).toFixed(4)),this.minViewport=parseFloat((this.minViewport/16).toFixed(4)),this.maxViewport=parseFloat((this.maxViewport/16).toFixed(4))):e==="rem"&&o==="px"&&(this.minFontSize=Math.round(this.minFontSize*16),this.maxFontSize=Math.round(this.maxFontSize*16),this.minViewport=Math.round(this.minViewport*16),this.maxViewport=Math.round(this.maxViewport*16)),e=o;let n=this.convertViewportToPx(this.minViewport,this.unit),s=this.convertViewportToPx(this.maxViewport,this.unit);this.previewViewportWidth=Math.floor((n+s)/2),this.highlightPrism()})}}))});})();
